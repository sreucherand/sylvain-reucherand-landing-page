doctype html
html
    head
        meta(charset='utf-8')
        title= meta.title
        meta(name='description' content=meta.description)
        meta(name='keywords' content=meta.keywords)
        meta(name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no')

        meta(property='og:title' content=meta.title)
        meta(property='og:image' content=url.resolve(meta.url, meta.image.fb))
        meta(property='og:url' content=meta.url)
        meta(property='og:site-name' content=meta.title)

        meta(name='twitter:card' content='summary_large_image')
        meta(name='twitter:site' content=meta.twitter)
        meta(name='twitter:creator' content=meta.twitter)
        meta(name='twitter:title' content=meta.title)
        meta(name='twitter:description' content=meta.description)
        meta(name='twitter:image:src' content=url.resolve(meta.url, meta.image.twitter))

        link(rel='stylesheet' href='/static/app.bundle.css')
        link(rel='shortcut icon' href='/static/media/favicon.ico')

    body
      navigation
        div.grid
          div.grid__row
            div.grid__row__column.grid__row__column--xs-8
              h1
                | Sylvain Reucherand
                br
                | Developer

      section#recent
        .grid
          each entry in entries
            if entry.type === 'news'
              div.grid__row.content__date
                div.grid__row__column.grid__row__column--xs-2.grid__row__column--sm-2.grid__row__column--sm-offset-2
                  div= moment(entry.date).format('MMM YYYY')

              div.grid__row.content__main
                div.grid__row__column.grid__row__column--xs-8
                  h2!= marked(entry.title)

            if entry.type === 'project'
              div.grid__row.content__main
                div.grid__row__column.grid__row__column--xs-8.grid__row__column.grid__row__column--sm-4.grid__row__column.grid__row__column--sm-offset-2.content__main__introduction
                  h2!= marked(entry.title)

                  if entry.paragraphs
                    each paragraph in entry.paragraphs
                      p!= marked(paragraph)

                if entry.metadata
                  each metadata, index in entry.metadata
                    div.grid__row__column.grid__row__column--xs-4.grid__row__column--sm-2.content__main__metadata(class=(index % 3 === 0 ? 'grid__row__column--sm-offset-2' : false))
                      div.content__main__metadata__title= metadata.title

                      if metadata.type === 'date'
                        div= moment(metadata.value).format('MMM YYYY')

                      if metadata.type === 'links'
                        each link in metadata.value
                          p
                            a(href=link.url target="_blank")= link.title

                      if metadata.type === 'text'
                        if typeof metadata.value === 'object'
                          each value in metadata.value
                            div= value

                        if typeof metadata.value === 'string'
                          p= metadata.value

                if entry.gallery && entry.gallery.length > 1
                  div.grid__row__column.grid__row__column--xs-8.content__main__gallery
                    div.grid__row(data-interactive="gallery")
                      script.
                        !{JSON.stringify(entry.gallery)}

      section#contact
        .grid
          div.grid__row__column.grid__row__column--xs-8
            a(href="mailto:hello@sylvainreucherand.fr") Say hi!

    script(src='/static/app.bundle.js')

    script(async='' src='https://www.googletagmanager.com/gtag/js?id=UA-37300118-4')
    script.
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-37300118-4');
